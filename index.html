<!doctype html>
<html lang="ro">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Vlogul lui Razvan</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <header class="siteHeader">
        <h1>Vlogul lui Razvan</h1>
    </header>

    <!-- Toolbar -->
    <section class="toolbar">
        <input id="searchInput" type="search" placeholder="Caută titlu sau tag..." />
        <div class="selectGroup">
            <button class="dropdown" id="tagFilter" aria-label="Filtrează după tag">— Filtrează după tag —</button>
            <ul class="dropdownMenu" id="tagMenu" hidden></ul>
        </div>
        <select id="sortSelect" aria-label="Sortează">
            <option value="newest">Noi → Vechi</option>
            <option value="oldest">Vechi → Noi</option>
            <option value="title">Titlu (A→Z)</option>
        </select>

        <div class="spacer"></div>

        <button id="authBtn" class="ghost">Autentificare</button>
        <button id="btnAdd" class="primary" hidden>+ Adaugă clip</button>
        <button id="btnExport" class="ghost" hidden>Export</button>
        <button id="btnImport" class="ghost" hidden>Import</button>
        <input id="importInput" type="file" accept="application/json" hidden />
    </section>

    <!-- Banner (poți lăsa hidden sau îl poți afișa când vrei) -->
    <section id="banner" class="banner" hidden>
        Sfat: pentru clipurile <strong>.mp4 găzduite</strong> folosește un link direct (nu din PC). Linkurile YouTube sunt ideale.
    </section>

    <!-- Lista video -->
    <main class="content">
        <div id="grid" class="grid"></div>
        <div class="center">
            <button id="loadMore" class="ghost" hidden>Încarcă mai multe</button>
        </div>
        <p id="errorBox" class="error" hidden></p>
    </main>

    <!-- Dialog Add/Edit -->
    <dialog id="addDialog" class="dialog">
        <form method="dialog" class="dialogBody">
            <header class="dialogHeader">
                <h2 id="dlgTitle">Adaugă clip</h2>
                <menu>
                    <button id="saveBtn" class="primary" value="default">Salvează</button>
                    <button class="ghost" value="cancel">Anulează</button>
                </menu>
            </header>

            <div class="tabs">
                <button type="button" class="tab active" data-tab="youtube">Link YouTube / URL</button>
                <button type="button" class="tab" data-tab="local">Fișier local (.mp4)</button>
            </div>

            <!-- Panou LINK -->
            <section class="tabPanel" data-panel="youtube" style="display:block;">
                <label class="fld">
                    <span>Titlu</span>
                    <input id="titleInput" type="text" placeholder="Titlul clipului" />
                </label>

                <label class="fld">
                    <span>YouTube / URL .mp4</span>
                    <input id="urlInput" type="url" placeholder="https://youtu.be/..." />
                </label>

                <div class="grid2">
                    <label class="fld">
                        <span>Data</span>
                        <input id="dateInput" type="date" />
                    </label>
                    <label class="fld">
                        <span>Tag-uri (separate prin virgulă)</span>
                        <input id="tagsInput" type="text" placeholder="daily, intro" />
                    </label>
                </div>

                <label class="fld">
                    <span>Descriere</span>
                    <textarea id="descInput" rows="3" placeholder="Descriere scurtă"></textarea>
                </label>
            </section>

            <!-- Panou LOCAL -->
            <section class="tabPanel" data-panel="local">
                <div id="dropZone" class="dropZone">
                    <strong>Trage și plasează un fișier .mp4 aici</strong>
                    <span>sau</span>
                    <button type="button" id="pickFile" class="ghost">Alege din calculator</button>
                    <input id="fileInput" type="file" accept="video/mp4" hidden />
                </div>

                <progress id="uploadProgress" value="0" max="100" hidden></progress>

                <div class="grid2">
                    <label class="fld">
                        <span>Titlu</span>
                        <input id="localTitleInput" type="text" placeholder="Titlul implicit e numele fișierului" />
                    </label>
                    <label class="fld">
                        <span>Data</span>
                        <input id="localDateInput" type="date" />
                    </label>
                </div>

                <label class="fld">
                    <span>Tag-uri (separate prin virgulă)</span>
                    <input id="localTagsInput" type="text" placeholder="daily, vlog" />
                </label>
            </section>
        </form>
    </dialog>

    <!-- Șablon card -->
    <template id="cardTpl">
        <article class="card">
            <div class="media"></div>
            <div class="meta">
                <h3 class="title"></h3>
                <p class="date"></p>
                <p class="desc"></p>
                <div class="tags"></div>
            </div>
            <footer class="cardActions">
                <button class="mini" data-action="edit">Editează</button>
                <button class="mini danger" data-action="delete">Șterge</button>
            </footer>
        </article>
    </template>

    <!-- App (ESM) -->
    <script type="module" src="app.js"></script>
</body>
</html>
